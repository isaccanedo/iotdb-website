import{_ as a,c as n,b as e,o as p}from"./app-BHE9oQwv.js";const t={};function o(l,s){return p(),n("div",null,s[0]||(s[0]=[e(`<h1 id="csv-tool" tabindex="-1"><a class="header-anchor" href="#csv-tool"><span>CSV Tool</span></a></h1><p>The CSV tool can help you import data in CSV format to IoTDB or export data from IoTDB to a CSV file.</p><h2 id="usage-of-export-csv-sh" tabindex="-1"><a class="header-anchor" href="#usage-of-export-csv-sh"><span>Usage of <a href="http://export-csv.sh" target="_blank" rel="noopener noreferrer">export-csv.sh</a></span></a></h2><h3 id="syntax" tabindex="-1"><a class="header-anchor" href="#syntax"><span>Syntax</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># Unix/OS X</span></span>
<span class="line"><span class="token operator">&gt;</span> tools/export-csv.sh  <span class="token parameter variable">-h</span> <span class="token operator">&lt;</span>ip<span class="token operator">&gt;</span> <span class="token parameter variable">-p</span> <span class="token operator">&lt;</span>port<span class="token operator">&gt;</span> <span class="token parameter variable">-u</span> <span class="token operator">&lt;</span>username<span class="token operator">&gt;</span> <span class="token parameter variable">-pw</span> <span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token parameter variable">-td</span> <span class="token operator">&lt;</span>directory<span class="token operator">&gt;</span> <span class="token punctuation">[</span>-tf <span class="token operator">&lt;</span>time-format<span class="token operator">&gt;</span> <span class="token parameter variable">-datatype</span> <span class="token operator">&lt;</span>true/false<span class="token operator">&gt;</span> <span class="token parameter variable">-q</span> <span class="token operator">&lt;</span>query command<span class="token operator">&gt;</span> <span class="token parameter variable">-s</span> <span class="token operator">&lt;</span>sql file<span class="token operator">&gt;</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Windows</span></span>
<span class="line"><span class="token operator">&gt;</span> tools<span class="token punctuation">\\</span>export-csv.bat <span class="token parameter variable">-h</span> <span class="token operator">&lt;</span>ip<span class="token operator">&gt;</span> <span class="token parameter variable">-p</span> <span class="token operator">&lt;</span>port<span class="token operator">&gt;</span> <span class="token parameter variable">-u</span> <span class="token operator">&lt;</span>username<span class="token operator">&gt;</span> <span class="token parameter variable">-pw</span> <span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token parameter variable">-td</span> <span class="token operator">&lt;</span>directory<span class="token operator">&gt;</span> <span class="token punctuation">[</span>-tf <span class="token operator">&lt;</span>time-format<span class="token operator">&gt;</span> <span class="token parameter variable">-datatype</span> <span class="token operator">&lt;</span>true/false<span class="token operator">&gt;</span> <span class="token parameter variable">-q</span> <span class="token operator">&lt;</span>query command<span class="token operator">&gt;</span> <span class="token parameter variable">-s</span> <span class="token operator">&lt;</span>sql file<span class="token operator">&gt;</span><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Description:</p><ul><li><code>-datatype</code>: <ul><li>true (by default): print the data type of timesries in the head line of CSV file. i.e., <code>Time, root.sg1.d1.s1(INT32), root.sg1.d1.s2(INT64)</code>.</li><li>false: only print the timeseries name in the head line of the CSV file. i.e., <code>Time, root.sg1.d1.s1 , root.sg1.d1.s2</code></li></ul></li><li><code>-q &lt;query command&gt;</code>: <ul><li>specifying a query command that you want to execute</li><li>example: <code>select * from root limit 100</code>, or <code>select * from root limit 100 align by device</code></li></ul></li><li><code>-s &lt;sql file&gt;</code>: <ul><li>specifying a SQL file which can consist of more than one sql. If there are multiple SQLs in one SQL file, the SQLs should be separated by line breaks. And, for each SQL, a output CSV file will be generated.</li></ul></li><li><code>-td &lt;directory&gt;</code>: <ul><li>specifying the directory that the data will be exported</li></ul></li><li><code>-tf &lt;time-format&gt;</code>: <ul><li>specifying a time format that you want. The time format have to obey <a href="https://calendars.wikia.org/wiki/ISO_8601" target="_blank" rel="noopener noreferrer">ISO 8601</a> standard. If you want to save the time as the timestamp, then setting <code>-tf timestamp</code></li><li>example: <code>-tf yyyy-MM-dd\\ HH:mm:ss</code> or <code>-tf timestamp</code></li></ul></li></ul><p>More, if you don&#39;t use one of <code>-s</code> and <code>-q</code>, you need to enter some queries after running the export script. The results of the different query will be saved to different CSV files.</p><h3 id="example" tabindex="-1"><a class="header-anchor" href="#example"><span>example</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># Unix/OS X</span></span>
<span class="line"><span class="token operator">&gt;</span> tools/export-csv.sh <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6667</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-pw</span> root <span class="token parameter variable">-td</span> ./</span>
<span class="line"><span class="token comment"># Or</span></span>
<span class="line"><span class="token operator">&gt;</span> tools/export-csv.sh <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6667</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-pw</span> root <span class="token parameter variable">-td</span> ./ <span class="token parameter variable">-tf</span> yyyy-MM-dd<span class="token punctuation">\\</span> HH:mm:ss</span>
<span class="line"><span class="token comment"># or</span></span>
<span class="line"><span class="token operator">&gt;</span> tools/export-csv.sh <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6667</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-pw</span> root <span class="token parameter variable">-td</span> ./ <span class="token parameter variable">-q</span> <span class="token string">&quot;select * from root&quot;</span></span>
<span class="line"><span class="token comment"># Or</span></span>
<span class="line"><span class="token operator">&gt;</span> tools/export-csv.sh <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6667</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-pw</span> root <span class="token parameter variable">-td</span> ./ <span class="token parameter variable">-s</span> sql.txt</span>
<span class="line"><span class="token comment"># Or</span></span>
<span class="line"><span class="token operator">&gt;</span> tools/export-csv.sh <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6667</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-pw</span> root <span class="token parameter variable">-td</span> ./ <span class="token parameter variable">-tf</span> yyyy-MM-dd<span class="token punctuation">\\</span> HH:mm:ss <span class="token parameter variable">-s</span> sql.txt</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Windows</span></span>
<span class="line"><span class="token operator">&gt;</span> tools/export-csv.bat <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6667</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-pw</span> root <span class="token parameter variable">-td</span> ./</span>
<span class="line"><span class="token comment"># Or</span></span>
<span class="line"><span class="token operator">&gt;</span> tools/export-csv.bat <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6667</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-pw</span> root <span class="token parameter variable">-td</span> ./ <span class="token parameter variable">-tf</span> yyyy-MM-dd<span class="token punctuation">\\</span> HH:mm:ss</span>
<span class="line"><span class="token comment"># or</span></span>
<span class="line"><span class="token operator">&gt;</span> tools/export-csv.bat <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6667</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-pw</span> root <span class="token parameter variable">-td</span> ./ <span class="token parameter variable">-q</span> <span class="token string">&quot;select * from root&quot;</span></span>
<span class="line"><span class="token comment"># Or</span></span>
<span class="line"><span class="token operator">&gt;</span> tools/export-csv.bat <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6667</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-pw</span> root <span class="token parameter variable">-td</span> ./ <span class="token parameter variable">-s</span> sql.txt</span>
<span class="line"><span class="token comment"># Or</span></span>
<span class="line"><span class="token operator">&gt;</span> tools/export-csv.bat <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6667</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-pw</span> root <span class="token parameter variable">-td</span> ./ <span class="token parameter variable">-tf</span> yyyy-MM-dd<span class="token punctuation">\\</span> HH:mm:ss <span class="token parameter variable">-s</span> sql.txt</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="sample-sql-file" tabindex="-1"><a class="header-anchor" href="#sample-sql-file"><span>Sample SQL file</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> root<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> root align <span class="token keyword">by</span> device<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>The result of <code>select * from root</code></p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">Time</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf04<span class="token punctuation">.</span>wt04<span class="token punctuation">.</span><span class="token keyword">status</span><span class="token punctuation">(</span><span class="token keyword">BOOLEAN</span><span class="token punctuation">)</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf03<span class="token punctuation">.</span>wt03<span class="token punctuation">.</span>hardware<span class="token punctuation">(</span><span class="token keyword">TEXT</span><span class="token punctuation">)</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">.</span><span class="token keyword">status</span><span class="token punctuation">(</span><span class="token keyword">BOOLEAN</span><span class="token punctuation">)</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">.</span>hardware<span class="token punctuation">(</span><span class="token keyword">TEXT</span><span class="token punctuation">)</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf01<span class="token punctuation">.</span>wt01<span class="token punctuation">.</span>hardware<span class="token punctuation">(</span><span class="token keyword">TEXT</span><span class="token punctuation">)</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf01<span class="token punctuation">.</span>wt01<span class="token punctuation">.</span><span class="token keyword">status</span><span class="token punctuation">(</span><span class="token keyword">BOOLEAN</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.001</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;v1&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;v1&quot;</span><span class="token punctuation">,</span>v1<span class="token punctuation">,</span><span class="token boolean">true</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.002</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;v1&quot;</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token boolean">true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The result of <code>select * from root align by device</code></p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">Time</span><span class="token punctuation">,</span>Device<span class="token punctuation">,</span>hardware<span class="token punctuation">(</span><span class="token keyword">TEXT</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">status</span><span class="token punctuation">(</span><span class="token keyword">BOOLEAN</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.001</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf01<span class="token punctuation">.</span>wt01<span class="token punctuation">,</span><span class="token string">&quot;v1&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.002</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf01<span class="token punctuation">.</span>wt01<span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token boolean">true</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.001</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf02<span class="token punctuation">.</span>wt02<span class="token punctuation">,</span><span class="token string">&quot;v1&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.001</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf03<span class="token punctuation">.</span>wt03<span class="token punctuation">,</span><span class="token string">&quot;v1&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.002</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf03<span class="token punctuation">.</span>wt03<span class="token punctuation">,</span><span class="token string">&quot;v1&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.001</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf04<span class="token punctuation">.</span>wt04<span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token boolean">true</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.002</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf04<span class="token punctuation">.</span>wt04<span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token boolean">true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The data of boolean type signed by <code>true</code> and <code>false</code> without double quotes. And the text data will be enclosed in double quotes.</p><h3 id="note" tabindex="-1"><a class="header-anchor" href="#note"><span>Note</span></a></h3><p>Note that if fields exported by the export tool have the following special characters:</p><ol><li><code>,</code>: the field will be escaped by <code>\\</code>.</li></ol><h2 id="usage-of-import-csv-sh" tabindex="-1"><a class="header-anchor" href="#usage-of-import-csv-sh"><span>Usage of <a href="http://import-csv.sh" target="_blank" rel="noopener noreferrer">import-csv.sh</a></span></a></h2><h3 id="create-metadata-optional" tabindex="-1"><a class="header-anchor" href="#create-metadata-optional"><span>Create metadata (optional)</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">SET</span> STORAGE <span class="token keyword">GROUP</span> <span class="token keyword">TO</span> root<span class="token punctuation">.</span>fit<span class="token punctuation">.</span>d1<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">SET</span> STORAGE <span class="token keyword">GROUP</span> <span class="token keyword">TO</span> root<span class="token punctuation">.</span>fit<span class="token punctuation">.</span>d2<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">SET</span> STORAGE <span class="token keyword">GROUP</span> <span class="token keyword">TO</span> root<span class="token punctuation">.</span>fit<span class="token punctuation">.</span>p<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">CREATE</span> TIMESERIES root<span class="token punctuation">.</span>fit<span class="token punctuation">.</span>d1<span class="token punctuation">.</span>s1 <span class="token keyword">WITH</span> DATATYPE<span class="token operator">=</span>INT32<span class="token punctuation">,</span>ENCODING<span class="token operator">=</span>RLE<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">CREATE</span> TIMESERIES root<span class="token punctuation">.</span>fit<span class="token punctuation">.</span>d1<span class="token punctuation">.</span>s2 <span class="token keyword">WITH</span> DATATYPE<span class="token operator">=</span><span class="token keyword">TEXT</span><span class="token punctuation">,</span>ENCODING<span class="token operator">=</span>PLAIN<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">CREATE</span> TIMESERIES root<span class="token punctuation">.</span>fit<span class="token punctuation">.</span>d2<span class="token punctuation">.</span>s1 <span class="token keyword">WITH</span> DATATYPE<span class="token operator">=</span>INT32<span class="token punctuation">,</span>ENCODING<span class="token operator">=</span>RLE<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">CREATE</span> TIMESERIES root<span class="token punctuation">.</span>fit<span class="token punctuation">.</span>d2<span class="token punctuation">.</span>s3 <span class="token keyword">WITH</span> DATATYPE<span class="token operator">=</span>INT32<span class="token punctuation">,</span>ENCODING<span class="token operator">=</span>RLE<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">CREATE</span> TIMESERIES root<span class="token punctuation">.</span>fit<span class="token punctuation">.</span>p<span class="token punctuation">.</span>s1 <span class="token keyword">WITH</span> DATATYPE<span class="token operator">=</span>INT32<span class="token punctuation">,</span>ENCODING<span class="token operator">=</span>RLE<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>IoTDB has the ability of type inference, so it is not necessary to create metadata before data import. However, we still recommend creating metadata before importing data using the CSV import tool, as this can avoid unnecessary type conversion errors.</p><h3 id="sample-csv-file-to-be-imported" tabindex="-1"><a class="header-anchor" href="#sample-csv-file-to-be-imported"><span>Sample CSV file to be imported</span></a></h3><p>The data aligned by time, and headers without data type.</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">Time</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>t1<span class="token punctuation">.</span>str<span class="token punctuation">,</span>root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>t2<span class="token punctuation">.</span>str<span class="token punctuation">,</span>root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>t2<span class="token punctuation">.</span><span class="token keyword">int</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.001</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span><span class="token string">&quot;123hello world&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;123\\,abc&quot;</span><span class="token punctuation">,</span><span class="token number">100</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.002</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The data aligned by time, and headers with data type.（Text type data supports double quotation marks and no double quotation marks）</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">Time</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>t1<span class="token punctuation">.</span>str<span class="token punctuation">(</span><span class="token keyword">TEXT</span><span class="token punctuation">)</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>t2<span class="token punctuation">.</span>str<span class="token punctuation">(</span><span class="token keyword">TEXT</span><span class="token punctuation">)</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>t2<span class="token punctuation">.</span><span class="token keyword">int</span><span class="token punctuation">(</span>INT32<span class="token punctuation">)</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.001</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span><span class="token string">&quot;123hello world&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;123\\,abc&quot;</span><span class="token punctuation">,</span><span class="token number">100</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.002</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span><span class="token number">123</span><span class="token punctuation">,</span>hello world<span class="token punctuation">,</span><span class="token number">123</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.003</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.004</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span><span class="token number">123</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token number">12</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The data aligned by device, and headers without data type.</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">Time</span><span class="token punctuation">,</span>Device<span class="token punctuation">,</span>str<span class="token punctuation">,</span><span class="token keyword">int</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.001</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>t1<span class="token punctuation">,</span><span class="token string">&quot;123hello world&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.002</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>t1<span class="token punctuation">,</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.001</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>t2<span class="token punctuation">,</span><span class="token string">&quot;123\\,abc&quot;</span><span class="token punctuation">,</span><span class="token number">100</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The data aligned by time, and headers with data type.（Text type data supports double quotation marks and no double quotation marks）</p><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">Time</span><span class="token punctuation">,</span>Device<span class="token punctuation">,</span>str<span class="token punctuation">(</span><span class="token keyword">TEXT</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">(</span>INT32<span class="token punctuation">)</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.001</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>t1<span class="token punctuation">,</span><span class="token string">&quot;123hello world&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.002</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>t1<span class="token punctuation">,</span>hello world<span class="token punctuation">,</span><span class="token number">123</span></span>
<span class="line"><span class="token number">1970</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span>T08:<span class="token number">00</span>:<span class="token number">00.003</span><span class="token operator">+</span><span class="token number">08</span>:<span class="token number">00</span><span class="token punctuation">,</span>root<span class="token punctuation">.</span>test<span class="token punctuation">.</span>t1<span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token number">123</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="syntax-1" tabindex="-1"><a class="header-anchor" href="#syntax-1"><span>Syntax</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># Unix/OS X</span></span>
<span class="line"><span class="token operator">&gt;</span> tools/import-csv.sh <span class="token parameter variable">-h</span> <span class="token operator">&lt;</span>ip<span class="token operator">&gt;</span> <span class="token parameter variable">-p</span> <span class="token operator">&lt;</span>port<span class="token operator">&gt;</span> <span class="token parameter variable">-u</span> <span class="token operator">&lt;</span>username<span class="token operator">&gt;</span> <span class="token parameter variable">-pw</span> <span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token parameter variable">-f</span> <span class="token operator">&lt;</span>xxx.csv<span class="token operator">&gt;</span> <span class="token punctuation">[</span>-fd <span class="token operator">&lt;</span>./failedDirectory<span class="token operator">&gt;</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>-aligned <span class="token operator">&lt;</span>true<span class="token operator">&gt;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token comment"># Windows</span></span>
<span class="line"><span class="token operator">&gt;</span> tools<span class="token punctuation">\\</span>import-csv.bat <span class="token parameter variable">-h</span> <span class="token operator">&lt;</span>ip<span class="token operator">&gt;</span> <span class="token parameter variable">-p</span> <span class="token operator">&lt;</span>port<span class="token operator">&gt;</span> <span class="token parameter variable">-u</span> <span class="token operator">&lt;</span>username<span class="token operator">&gt;</span> <span class="token parameter variable">-pw</span> <span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token parameter variable">-f</span> <span class="token operator">&lt;</span>xxx.csv<span class="token operator">&gt;</span> <span class="token punctuation">[</span>-fd <span class="token operator">&lt;</span>./failedDirectory<span class="token operator">&gt;</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>-aligned <span class="token operator">&lt;</span>true<span class="token operator">&gt;</span><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Description:</p><ul><li><p><code>-f</code>:</p><ul><li>the CSV file that you want to import, and it could be a file or a folder. If a folder is specified, all TXT and CSV files in the folder will be imported in batches.</li><li>example: <code>-f filename.csv</code></li></ul></li><li><p><code>-fd</code>:</p><ul><li>specifying a directory to save files which save failed lines. If you don&#39;t use this parameter, the failed file will be saved at original directory, and the filename will be the source filename with suffix <code>.failed</code>.</li><li>example: <code>-fd ./failed/</code></li></ul></li><li><p><code>-aligned</code>:</p><ul><li>whether to use the aligned interface? The option <code>false</code> is default.</li><li>example: <code>-aligned true</code></li></ul></li><li><p><code>-batch</code>:</p><ul><li>specifying the point&#39;s number of a batch. If the program throw the exception <code>org.apache.thrift.transport.TTransportException: Frame size larger than protect max size</code>, you can lower this parameter as appropriate.</li><li>example: <code>-batch 100000</code>, <code>100000</code> is the default value.</li></ul></li></ul><h3 id="example-1" tabindex="-1"><a class="header-anchor" href="#example-1"><span>Example</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># Unix/OS X</span></span>
<span class="line"><span class="token operator">&gt;</span> tools/import-csv.sh <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6667</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-pw</span> root <span class="token parameter variable">-f</span> example-filename.csv <span class="token parameter variable">-fd</span> ./failed</span>
<span class="line"><span class="token comment"># or</span></span>
<span class="line"><span class="token operator">&gt;</span> tools/import-csv.sh <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6667</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-pw</span> root <span class="token parameter variable">-f</span> example-filename.csv <span class="token parameter variable">-fd</span> ./failed</span>
<span class="line"><span class="token comment"># Windows</span></span>
<span class="line"><span class="token operator">&gt;</span> tools<span class="token punctuation">\\</span>import-csv.bat <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6667</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-pw</span> root <span class="token parameter variable">-f</span> example-filename.csv</span>
<span class="line"><span class="token comment"># or</span></span>
<span class="line"><span class="token operator">&gt;</span> tools<span class="token punctuation">\\</span>import-csv.bat <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6667</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-pw</span> root <span class="token parameter variable">-f</span> example-filename.csv <span class="token parameter variable">-fd</span> .<span class="token punctuation">\\</span>failed</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="note-1" tabindex="-1"><a class="header-anchor" href="#note-1"><span>Note</span></a></h3><p>Note that the following special characters in fields need to be checked before importing:</p><ol><li><code>,</code> : fields containing <code>,</code> should be escaped by <code>\\</code>.</li><li>you can input time format like <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss</code>, <code>yyy-MM-dd HH:mm:ss</code>, or <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ</code>.</li><li>the <code>Time</code> column must be the first one.</li></ol>`,42)]))}const r=a(t,[["render",o],["__file","CSV-Tool.html.vue"]]),i=JSON.parse('{"path":"/UserGuide/V0.13.x/Write-And-Delete-Data/CSV-Tool.html","title":"CSV Tool","lang":"en-US","frontmatter":{"description":"CSV Tool The CSV tool can help you import data in CSV format to IoTDB or export data from IoTDB to a CSV file. Usage of export-csv.sh Syntax Description: -datatype: true (by def...","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://iotdb.apache.org/zh/UserGuide/V0.13.x/Write-And-Delete-Data/CSV-Tool.html"}],["meta",{"property":"og:url","content":"https://iotdb.apache.org/UserGuide/V0.13.x/Write-And-Delete-Data/CSV-Tool.html"}],["meta",{"property":"og:site_name","content":"IoTDB Website"}],["meta",{"property":"og:title","content":"CSV Tool"}],["meta",{"property":"og:description","content":"CSV Tool The CSV tool can help you import data in CSV format to IoTDB or export data from IoTDB to a CSV file. Usage of export-csv.sh Syntax Description: -datatype: true (by def..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-07-10T03:11:17.000Z"}],["meta",{"property":"article:modified_time","content":"2023-07-10T03:11:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"CSV Tool\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-07-10T03:11:17.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Usage of export-csv.sh","slug":"usage-of-export-csv-sh","link":"#usage-of-export-csv-sh","children":[{"level":3,"title":"Syntax","slug":"syntax","link":"#syntax","children":[]},{"level":3,"title":"example","slug":"example","link":"#example","children":[]},{"level":3,"title":"Sample SQL file","slug":"sample-sql-file","link":"#sample-sql-file","children":[]},{"level":3,"title":"Note","slug":"note","link":"#note","children":[]}]},{"level":2,"title":"Usage of import-csv.sh","slug":"usage-of-import-csv-sh","link":"#usage-of-import-csv-sh","children":[{"level":3,"title":"Create metadata (optional)","slug":"create-metadata-optional","link":"#create-metadata-optional","children":[]},{"level":3,"title":"Sample CSV file to be imported","slug":"sample-csv-file-to-be-imported","link":"#sample-csv-file-to-be-imported","children":[]},{"level":3,"title":"Syntax","slug":"syntax-1","link":"#syntax-1","children":[]},{"level":3,"title":"Example","slug":"example-1","link":"#example-1","children":[]},{"level":3,"title":"Note","slug":"note-1","link":"#note-1","children":[]}]}],"git":{"createdTime":1688958677000,"updatedTime":1688958677000,"contributors":[{"name":"CritasWang","email":"critas@outlook.com","commits":1}]},"readingTime":{"minutes":4.6,"words":1379},"filePathRelative":"UserGuide/V0.13.x/Write-And-Delete-Data/CSV-Tool.md","localizedDate":"July 10, 2023","autoDesc":true}');export{r as comp,i as data};
