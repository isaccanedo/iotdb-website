import{_ as e,c as s,b as a,o as t}from"./app-BHE9oQwv.js";const i={};function o(l,n){return t(),s("div",null,n[0]||(n[0]=[a(`<h1 id="ainode-deployment" tabindex="-1"><a class="header-anchor" href="#ainode-deployment"><span>AINode Deployment</span></a></h1><h2 id="ainode-introduction" tabindex="-1"><a class="header-anchor" href="#ainode-introduction"><span>AINode Introduction</span></a></h2><h3 id="capability-introduction" tabindex="-1"><a class="header-anchor" href="#capability-introduction"><span>Capability Introduction</span></a></h3><p>AINode is the third type of endogenous node provided by IoTDB after the Configurable Node and DataNode. This node extends its ability to perform machine learning analysis on time series by interacting with the DataNode and Configurable Node of the IoTDB cluster. It supports the introduction of existing machine learning models from external sources for registration and the use of registered models to complete time series analysis tasks on specified time series data through simple SQL statements. The creation, management, and inference of models are integrated into the database engine. Currently, machine learning algorithms or self-developed models are available for common time series analysis scenarios, such as prediction and anomaly detection.</p><h3 id="delivery-method" tabindex="-1"><a class="header-anchor" href="#delivery-method"><span>Delivery Method</span></a></h3><p>It is an additional package outside the IoTDB cluster, with independent installation and activation (if you need to try or use it, please contact Timecho Technology Business or Technical Support).</p><h3 id="deployment-mode" tabindex="-1"><a class="header-anchor" href="#deployment-mode"><span>Deployment mode</span></a></h3><div><img src="https://alioss.timecho.com/docs/img/AINode Deployment 1.png" alt="" style="width:45%;"><img src="https://alioss.timecho.com/docs/img/AINode Deployment 2.png" alt="" style="width:45%;"></div><h2 id="installation-preparation" tabindex="-1"><a class="header-anchor" href="#installation-preparation"><span>Installation preparation</span></a></h2><h3 id="get-installation-package" tabindex="-1"><a class="header-anchor" href="#get-installation-package"><span>Get installation package</span></a></h3><p>Users can download the software installation package for AINode, download and unzip it to complete the installation of AINode.</p><p>Unzip and install the package<br><code>(iotdb-enterprise-ainode-&lt;version&gt;.zip)</code>， The directory structure after unpacking the installation package is as follows:</p><table><thead><tr><th><strong>Catalogue</strong></th><th><strong>Type</strong></th><th><strong>Explain</strong></th></tr></thead><tbody><tr><td>lib</td><td>folder</td><td>AINode compiled binary executable files and related code dependencies</td></tr><tr><td>sbin</td><td>folder</td><td>The running script of AINode can start, remove, and stop AINode</td></tr><tr><td>conf</td><td>folder</td><td>Contains configuration items for AINode, specifically including the following configuration items</td></tr><tr><td>LICENSE</td><td>file</td><td>Certificate</td></tr><tr><td>NOTICE</td><td>file</td><td>Tips</td></tr><tr><td>README_ZH.md</td><td>file</td><td>Explanation of the Chinese version of the markdown format</td></tr><tr><td><code>README.md</code></td><td>file</td><td>Instructions</td></tr></tbody></table><h3 id="environment-preparation" tabindex="-1"><a class="header-anchor" href="#environment-preparation"><span>Environment preparation</span></a></h3><ul><li><p>Suggested operating environment：Ubuntu, CentOS, MacOS</p></li><li><p>Runtime Environment</p><ul><li><p>Python&gt;=3.8 and Python &lt;= 3.14 is sufficient in a networked environment, and comes with pip and venv tools; Python 3.8 version is required for non networked environments, and download the zip package for the corresponding operating system from <a href="https://cloud.tsinghua.edu.cn/d/4c1342f6c272439aa96c/?p=%2Flibs&amp;mode=list" target="_blank" rel="noopener noreferrer">here</a> (Note that when downloading dependencies, you need to select the zip file in the libs folder, as shown in the following figure). Copy all files in the folder to the <code>lib</code> folder in the <code>iotdb-enterprise-ainode-&lt;version&gt;</code> folder, and follow the steps below to start AINode.</p><img src="https://alioss.timecho.com/docs/img/AINode部署环境.png" alt="" style="width:80%;"></li><li><p>There must be a Python interpreter in the environment variables that can be directly called through the <code>python</code> instruction.</p></li><li><p>It is recommended to create a Python interpreter venv virtual environment in the <code>iotdb-enterprise-ainode-&lt;version&gt;</code> folder. If installing version 3.8.0 virtual environment, the statement is as follows:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token comment"># Install version 3.8.0 of Venv , Create a virtual environment with the folder name \`venv\`.</span></span>
<span class="line">  <span class="token punctuation">..</span>/Python-3.8.0/python <span class="token parameter variable">-m</span> venv <span class="token variable"><span class="token variable">\`</span>venv<span class="token variable">\`</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><h2 id="installation-steps" tabindex="-1"><a class="header-anchor" href="#installation-steps"><span>Installation steps</span></a></h2><h3 id="install-ainode" tabindex="-1"><a class="header-anchor" href="#install-ainode"><span>Install AINode</span></a></h3><ol><li>AINode activation</li></ol><p>Require IoTDB to be in normal operation and have AINode module authorization in the license (usually not in the license, please contact T Business or technical support personnel to obtain AINode module authorization).</p><p>The authorization method for activating the AINode module is as follows：</p><ul><li><p>Method 1: Activate file copy activation</p><ul><li>After restarting the confignode node, enter the activation folder, copy the system_info file to the Timecho staff, and inform them to apply for independent authorization for AINode;</li><li>Received the license file returned by the staff;</li><li>Put the license file into the activation folder of the corresponding node;</li></ul></li><li><p>Method 2: Activate Script Activation</p><ul><li>Obtain the required machine code for activation, enter the <code>sbin</code> directory of the installation directory, and execute the activation script：<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token builtin class-name">cd</span> sbin </span>
<span class="line">  ./start-activate.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li>The following information is displayed. Please copy the machine code (i.e. this string of characters) to the Timecho staff and inform them to apply for independent authorization of AINode：<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">Please copy the system_info&#39;s content and send it to Timecho:</span>
<span class="line"><span class="token assign-left variable">Y17hFA0xRCE1TmkVxILuCIEPc7uJcr5bzlXWiptw8uZTmTX5aThfypQdLUIhMljw075hNRSicyvyJR9JM7QaNm1gcFZPHVRWVXIiY5IlZkXdxCVc1erXMsbCqUYsR2R2Mw4PSpFJsUF5jHWSoFIIjQ2bmJFW5P52KCccFMVeHTc</span><span class="token operator">=</span></span>
<span class="line">Please enter license:</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>Enter the activation code returned by the staff into the <code>Please enter license:</code> command prompt in the previous step, as shown below：<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">Please enter license:</span>
<span class="line">Jw+MmF+AtexsfgNGOFgTm83BgXbq0zT1+fOfPvQsLlj6ZsooHFU6HycUSEGC78eT1g67KPvkcLCUIsz2QpbyVmPLr9x1+kVjBubZPYlVpsGYLqLFc8kgpb5vIrPLd3hGLbJ5Ks8fV1WOVrDDVQq89YF2atQa2EaB9EAeTWd0bRMZ+s9ffjc/1Zmh9NSP/T3VCfJcJQyi7YpXWy5nMtcW0gSV+S6fS5r7a96PjbtE0zXNjnEhqgRzdU+mfO8gVuUNaIy9l375cp1GLpeCh6m6pF+APW1CiXLTSijK9Qh3nsL5bAOXNeob5l+HO5fEMgzrW8OJPh26Vl6ljKUpCvpTiw<span class="token operator">==</span></span>
<span class="line">License has been stored to sbin/<span class="token punctuation">..</span>/activation/license</span>
<span class="line">Import completed. Please start cluster and excute <span class="token string">&#39;show cluster&#39;</span> to verify activation status</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>After updating the license, restart the DataNode node and enter the sbin directory of IoTDB to start the datanode：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token builtin class-name">cd</span> sbin</span>
<span class="line">  ./start-datanode.sh   <span class="token parameter variable">-d</span>   <span class="token comment">#The parameter&#39;d &#39;will be started in the background </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Check the kernel architecture of Linux</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token function">uname</span> <span class="token parameter variable">-m</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="3"><li>Import Python environment <a href="https://repo.anaconda.com/miniconda/" target="_blank" rel="noopener noreferrer">Download</a></li></ol><p>Recommend downloading the py311 version application and importing it into the iotdb dedicated folder in the user&#39;s root directory</p><ol start="4"><li>Switch to the iotdb dedicated folder to install the Python environment</li></ol><p>Taking Miniconda 3-py311_24.5.0-0-Lux-x86_64 as an example:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token function">bash</span> ./Miniconda3-py311_24.5.0-0-Linux-x86_64.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>Type &quot;Enter&quot;, &quot;Long press space&quot;, &quot;Enter&quot;, &quot;Yes&quot;, &quot;Yes&quot; according to the prompt <br><br> Close the current SSH window and reconnect</p></blockquote><ol start="5"><li>Create a dedicated environment</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  conda create <span class="token parameter variable">-n</span> ainode_py <span class="token assign-left variable">python</span><span class="token operator">=</span><span class="token number">3.11</span>.9</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Type &#39;y&#39; according to the prompt</p><ol start="6"><li>Activate dedicated environment</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  conda activate ainode_py</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="7"><li>Verify Python version</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  python <span class="token parameter variable">--version</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="8"><li>Download and import AINode to a dedicated folder, switch to the dedicated folder and extract the installation package</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token function">unzip</span> iotdb-enterprise-ainode-1.3.3.2.zip</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="9"><li>Configuration item modification</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token function">vi</span> iotdb-enterprise-ainode-1.3.3.2/conf/iotdb-ainode.properties</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Configuration item modification：<a href="#configuration-item-modification">detailed information</a></p><blockquote><p>ain_seed_config_node=iotdb-1:10710 (Cluster communication node IP: communication node port)<br><br> ain_inference_rpc_address=iotdb-3 (IP address of the server running AINode)</p></blockquote><ol start="10"><li>Replace Python source</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  pip config <span class="token builtin class-name">set</span> global.index-url https://mirrors.aliyun.com/pypi/simple/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="11"><li>Start the AINode node</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token function">nohup</span> <span class="token function">bash</span> iotdb-enterprise-ainode-1.3.3.2/sbin/start-ainode.sh  <span class="token operator">&gt;</span> myout.file <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&amp;</span> <span class="token number">1</span> <span class="token operator">&amp;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>Return to the default environment of the system: conda deactivate</p></blockquote></li></ul><h3 id="configuration-item-modification" tabindex="-1"><a class="header-anchor" href="#configuration-item-modification"><span>Configuration item modification</span></a></h3><p>AINode supports modifying some necessary parameters. You can find the following parameters in the <code>conf/iotdb-ainode.properties</code> file and make persistent modifications to them:<br> ：</p><table><thead><tr><th style="text-align:left;"><strong>Name</strong></th><th><strong>Describe</strong></th><th><strong>Type</strong></th><th><strong>Default value</strong></th><th><strong>Effective method after modification</strong></th></tr></thead><tbody><tr><td style="text-align:left;">cluster_name</td><td>The identifier for AINode to join the cluster</td><td>string</td><td>defaultCluster</td><td>Only allow modifications before the first service startup</td></tr><tr><td style="text-align:left;">ain_seed_config_node</td><td>The Configurable Node address registered during AINode startup</td><td>String</td><td>127.0.0.1:10710</td><td>Only allow modifications before the first service startup</td></tr><tr><td style="text-align:left;">ain_inference_rpc_address</td><td>AINode provides service and communication addresses , Internal Service Communication Interface</td><td>String</td><td>127.0.0.1</td><td>Only allow modifications before the first service startup</td></tr><tr><td style="text-align:left;">ain_inference_rpc_port</td><td>AINode provides ports for services and communication</td><td>String</td><td>10810</td><td>Only allow modifications before the first service startup</td></tr><tr><td style="text-align:left;">ain_system_dir</td><td>AINode metadata storage path, the starting directory of the relative path is related to the operating system, and it is recommended to use an absolute path</td><td>String</td><td>data/AINode/system</td><td>Only allow modifications before the first service startup</td></tr><tr><td style="text-align:left;">ain_models_dir</td><td>AINode stores the path of the model file, and the starting directory of the relative path is related to the operating system. It is recommended to use an absolute path</td><td>String</td><td>data/AINode/models</td><td>Only allow modifications before the first service startup</td></tr><tr><td style="text-align:left;">ain_logs_dir</td><td>The path where AINode stores logs, the starting directory of the relative path is related to the operating system, and it is recommended to use an absolute path</td><td>String</td><td>logs/AINode</td><td>Effective after restart</td></tr><tr><td style="text-align:left;">ain_thrift_compression_enabled</td><td>Does AINode enable Thrift&#39;s compression mechanism , 0-Do not start, 1-Start</td><td>Boolean</td><td>0</td><td>Effective after restart</td></tr></tbody></table><h3 id="start-ainode" tabindex="-1"><a class="header-anchor" href="#start-ainode"><span>Start AINode</span></a></h3><p>After completing the deployment of Seed Config Node, the registration and inference functions of the model can be supported by adding AINode nodes. After specifying the information of the IoTDB cluster in the configuration file, the corresponding instruction can be executed to start AINode and join the IoTDB cluster。</p><h4 id="networking-environment-startup" tabindex="-1"><a class="header-anchor" href="#networking-environment-startup"><span>Networking environment startup</span></a></h4><h5 id="start-command" tabindex="-1"><a class="header-anchor" href="#start-command"><span>Start command</span></a></h5><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token comment"># Start command</span></span>
<span class="line">  <span class="token comment"># Linux and MacOS systems</span></span>
<span class="line">  <span class="token function">bash</span> sbin/start-ainode.sh </span>
<span class="line"></span>
<span class="line">  <span class="token comment"># Windows systems</span></span>
<span class="line">  sbin<span class="token punctuation">\\</span>start-ainode.bat  </span>
<span class="line"></span>
<span class="line">  <span class="token comment"># Backend startup command (recommended for long-term running)</span></span>
<span class="line">  <span class="token comment"># Linux and MacOS systems</span></span>
<span class="line">  <span class="token function">nohup</span> <span class="token function">bash</span> sbin/start-ainode.sh  <span class="token operator">&gt;</span> myout.file <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&amp;</span> <span class="token number">1</span> <span class="token operator">&amp;</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment"># Windows systems</span></span>
<span class="line">  <span class="token function">nohup</span> <span class="token function">bash</span> sbin<span class="token punctuation">\\</span>start-ainode.bat  <span class="token operator">&gt;</span> myout.file <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&amp;</span> <span class="token number">1</span> <span class="token operator">&amp;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="detailed-syntax" tabindex="-1"><a class="header-anchor" href="#detailed-syntax"><span>Detailed Syntax</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token comment"># Start command</span></span>
<span class="line">  <span class="token comment"># Linux and MacOS systems</span></span>
<span class="line">  <span class="token function">bash</span> sbin/start-ainode.sh  <span class="token parameter variable">-i</span> <span class="token operator">&lt;</span>bin_path<span class="token operator">&gt;</span>  <span class="token parameter variable">-r</span>  <span class="token parameter variable">-n</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment"># Windows systems</span></span>
<span class="line">  sbin<span class="token punctuation">\\</span>start-ainode.bat  <span class="token parameter variable">-i</span> <span class="token operator">&lt;</span>bin_path<span class="token operator">&gt;</span>  <span class="token parameter variable">-r</span>  <span class="token parameter variable">-n</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="parameter-introduction" tabindex="-1"><a class="header-anchor" href="#parameter-introduction"><span>Parameter introduction:</span></a></h5><table><thead><tr><th><strong>Name</strong></th><th><strong>Label</strong></th><th><strong>Describe</strong></th><th><strong>Is it mandatory</strong></th><th><strong>Type</strong></th><th><strong>Default value</strong></th><th><strong>Input method</strong></th></tr></thead><tbody><tr><td>ain_interpreter_dir</td><td>-i</td><td>The interpreter path of the virtual environment where AINode is installed requires the use of an absolute path.</td><td>no</td><td>String</td><td>Default reading of environment variables</td><td>Input or persist modifications during invocation</td></tr><tr><td>ain_force_reinstall</td><td>-r</td><td>Does this script check the version when checking the installation status of AINode. If it does, it will force the installation of the whl package in lib if the version is incorrect.</td><td>no</td><td>Bool</td><td>false</td><td>Input when calling</td></tr><tr><td>ain_no_dependencies</td><td>-n</td><td>Specify whether to install dependencies when installing AINode, and if so, only install the AINode main program without installing dependencies.</td><td>no</td><td>Bool</td><td>false</td><td>Input when calling</td></tr></tbody></table><p>If you don&#39;t want to specify the corresponding parameters every time you start, you can also persistently modify the parameters in the <code>ainode-env.sh</code> and <code>ainode-env.bat</code> scripts in the <code>conf</code> folder (currently supporting persistent modification of the ain_interpreter-dir parameter).</p><p><code>ainode-env.sh</code> :</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"> <span class="token comment"># The defaulte venv environment is used if ain_interpreter_dir is not set. Please use absolute path without quotation mark</span></span>
<span class="line"> <span class="token comment"># ain_interpreter_dir=</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>ainode-env.bat</code> :</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  @REM The defaulte venv environment is used <span class="token keyword">if</span> ain_interpreter_dir is not set. Please use absolute path without quotation mark</span>
<span class="line">  @REM <span class="token builtin class-name">set</span> <span class="token assign-left variable">ain_interpreter_dir</span><span class="token operator">=</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>After writing the parameter value, uncomment the corresponding line and save it to take effect on the next script execution.</p><h4 id="example" tabindex="-1"><a class="header-anchor" href="#example"><span>Example</span></a></h4><h5 id="directly-start" tabindex="-1"><a class="header-anchor" href="#directly-start"><span>Directly start:</span></a></h5><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token comment"># Start command</span></span>
<span class="line">  <span class="token comment"># Linux and MacOS systems</span></span>
<span class="line">  <span class="token function">bash</span> sbin/start-ainode.sh</span>
<span class="line">  <span class="token comment"># Windows systems</span></span>
<span class="line">  sbin<span class="token punctuation">\\</span>start-ainode.bat </span>
<span class="line"></span>
<span class="line"></span>
<span class="line">  <span class="token comment"># Backend startup command (recommended for long-term running)</span></span>
<span class="line">  <span class="token comment"># Linux and MacOS systems</span></span>
<span class="line">  <span class="token function">nohup</span> <span class="token function">bash</span> sbin/start-ainode.sh  <span class="token operator">&gt;</span> myout.file <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&amp;</span> <span class="token number">1</span> <span class="token operator">&amp;</span></span>
<span class="line">  <span class="token comment"># Windows systems</span></span>
<span class="line">  <span class="token function">nohup</span> <span class="token function">bash</span> sbin<span class="token punctuation">\\</span>start-ainode.bat  <span class="token operator">&gt;</span> myout.file <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&amp;</span> <span class="token number">1</span> <span class="token operator">&amp;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="update-start" tabindex="-1"><a class="header-anchor" href="#update-start"><span>Update Start:</span></a></h5><p>If the version of AINode has been updated (such as updating the <code>lib</code> folder), this command can be used. Firstly, it is necessary to ensure that AINode has stopped running, and then restart it using the <code>-r</code> parameter, which will reinstall AINode based on the files under <code>lib</code>.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token comment"># Update startup command</span></span>
<span class="line">  <span class="token comment"># Linux and MacOS systems</span></span>
<span class="line">  <span class="token function">bash</span> sbin/start-ainode.sh <span class="token parameter variable">-r</span></span>
<span class="line">  <span class="token comment"># Windows systems</span></span>
<span class="line">  sbin<span class="token punctuation">\\</span>start-ainode.bat <span class="token parameter variable">-r</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">  <span class="token comment"># Backend startup command (recommended for long-term running)</span></span>
<span class="line">  <span class="token comment"># Linux and MacOS systems</span></span>
<span class="line">  <span class="token function">nohup</span> <span class="token function">bash</span> sbin/start-ainode.sh <span class="token parameter variable">-r</span> <span class="token operator">&gt;</span> myout.file <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&amp;</span> <span class="token number">1</span> <span class="token operator">&amp;</span></span>
<span class="line">  <span class="token comment"># Windows c</span></span>
<span class="line">  <span class="token function">nohup</span> <span class="token function">bash</span> sbin<span class="token punctuation">\\</span>start-ainode.bat <span class="token parameter variable">-r</span> <span class="token operator">&gt;</span> myout.file <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&amp;</span> <span class="token number">1</span> <span class="token operator">&amp;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="non-networked-environment-startup" tabindex="-1"><a class="header-anchor" href="#non-networked-environment-startup"><span>Non networked environment startup</span></a></h4><h5 id="start-command-1" tabindex="-1"><a class="header-anchor" href="#start-command-1"><span>Start command</span></a></h5><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token comment"># Start command</span></span>
<span class="line">  <span class="token comment"># Linux and MacOS systems</span></span>
<span class="line">  <span class="token function">bash</span> sbin/start-ainode.sh  </span>
<span class="line"></span>
<span class="line">  <span class="token comment"># Windows systems</span></span>
<span class="line">  sbin<span class="token punctuation">\\</span>start-ainode.bat  </span>
<span class="line"></span>
<span class="line">  <span class="token comment"># Backend startup command (recommended for long-term running)</span></span>
<span class="line">  <span class="token comment"># Linux and MacOS systems</span></span>
<span class="line">  <span class="token function">nohup</span> <span class="token function">bash</span> sbin/start-ainode.sh  <span class="token operator">&gt;</span> myout.file <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&amp;</span> <span class="token number">1</span> <span class="token operator">&amp;</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment"># Windows systems</span></span>
<span class="line">  <span class="token function">nohup</span> <span class="token function">bash</span> sbin<span class="token punctuation">\\</span>start-ainode.bat  <span class="token operator">&gt;</span> myout.file <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&amp;</span> <span class="token number">1</span> <span class="token operator">&amp;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="detailed-syntax-1" tabindex="-1"><a class="header-anchor" href="#detailed-syntax-1"><span>Detailed Syntax</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token comment"># Start command</span></span>
<span class="line">  <span class="token comment"># Linux and MacOS systems</span></span>
<span class="line">  <span class="token function">bash</span> sbin/start-ainode.sh  <span class="token parameter variable">-i</span> <span class="token operator">&lt;</span>bin_path<span class="token operator">&gt;</span>  <span class="token parameter variable">-r</span>  <span class="token parameter variable">-n</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment"># Windows systems</span></span>
<span class="line">  sbin<span class="token punctuation">\\</span>start-ainode.bat  <span class="token parameter variable">-i</span> <span class="token operator">&lt;</span>bin_path<span class="token operator">&gt;</span>  <span class="token parameter variable">-r</span>  <span class="token parameter variable">-n</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="parameter-introduction-1" tabindex="-1"><a class="header-anchor" href="#parameter-introduction-1"><span>Parameter introduction:</span></a></h5><table><thead><tr><th><strong>Name</strong></th><th><strong>Label</strong></th><th><strong>Describe</strong></th><th><strong>Is it mandatory</strong></th><th><strong>Type</strong></th><th><strong>Default value</strong></th><th><strong>Input method</strong></th></tr></thead><tbody><tr><td>ain_interpreter_dir</td><td>-i</td><td>The interpreter path of the virtual environment where AINode is installed requires the use of an absolute path</td><td>no</td><td>String</td><td>Default reading of environment variables</td><td>Input or persist modifications during invocation</td></tr><tr><td>ain_force_reinstall</td><td>-r</td><td>Does this script check the version when checking the installation status of AINode. If it does, it will force the installation of the whl package in lib if the version is incorrect</td><td>no</td><td>Bool</td><td>false</td><td>Input when calling</td></tr></tbody></table><blockquote><p>Attention: When installation fails in a non networked environment, first check if the installation package corresponding to the platform is selected, and then confirm that the Python version is 3.8 (due to the limitations of the downloaded installation package on Python versions, 3.7, 3.9, and others are not allowed)</p></blockquote><h4 id="example-1" tabindex="-1"><a class="header-anchor" href="#example-1"><span>Example</span></a></h4><h5 id="directly-start-1" tabindex="-1"><a class="header-anchor" href="#directly-start-1"><span>Directly start:</span></a></h5><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token comment"># Start command</span></span>
<span class="line">  <span class="token comment"># Linux and MacOS systems</span></span>
<span class="line">  <span class="token function">bash</span> sbin/start-ainode.sh</span>
<span class="line">  <span class="token comment"># Windows systems</span></span>
<span class="line">  sbin<span class="token punctuation">\\</span>start-ainode.bat </span>
<span class="line"></span>
<span class="line">  <span class="token comment"># Backend startup command (recommended for long-term running)</span></span>
<span class="line">  <span class="token comment"># Linux and MacOS systems</span></span>
<span class="line">  <span class="token function">nohup</span> <span class="token function">bash</span> sbin/start-ainode.sh  <span class="token operator">&gt;</span> myout.file <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&amp;</span> <span class="token number">1</span> <span class="token operator">&amp;</span></span>
<span class="line">  <span class="token comment"># Windows systems</span></span>
<span class="line">  <span class="token function">nohup</span> <span class="token function">bash</span> sbin<span class="token punctuation">\\</span>start-ainode.bat  <span class="token operator">&gt;</span> myout.file <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&amp;</span> <span class="token number">1</span> <span class="token operator">&amp;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="detecting-the-status-of-ainode-nodes" tabindex="-1"><a class="header-anchor" href="#detecting-the-status-of-ainode-nodes"><span>Detecting the status of AINode nodes</span></a></h3><p>During the startup process of AINode, the new AINode will be automatically added to the IoTDB cluster. After starting AINode, you can enter SQL in the command line to query. If you see an AINode node in the cluster and its running status is Running (as shown below), it indicates successful joining.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">IoTDB<span class="token operator">&gt;</span> show cluster</span>
<span class="line">+------+----------+-------+---------------+------------+-------+-----------+</span>
<span class="line"><span class="token operator">|</span>NodeID<span class="token operator">|</span>  NodeType<span class="token operator">|</span> Status<span class="token operator">|</span>InternalAddress<span class="token operator">|</span>InternalPort<span class="token operator">|</span>Version<span class="token operator">|</span>  BuildInfo<span class="token operator">|</span></span>
<span class="line">+------+----------+-------+---------------+------------+-------+-----------+</span>
<span class="line"><span class="token operator">|</span>     <span class="token number">0</span><span class="token operator">|</span>ConfigNode<span class="token operator">|</span>Running<span class="token operator">|</span>      <span class="token number">127.0</span>.0.1<span class="token operator">|</span>       <span class="token number">10710</span><span class="token operator">|</span>UNKNOWN<span class="token operator">|</span>190e303-dev<span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>     <span class="token number">1</span><span class="token operator">|</span>  DataNode<span class="token operator">|</span>Running<span class="token operator">|</span>      <span class="token number">127.0</span>.0.1<span class="token operator">|</span>       <span class="token number">10730</span><span class="token operator">|</span>UNKNOWN<span class="token operator">|</span>190e303-dev<span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>     <span class="token number">2</span><span class="token operator">|</span>    AINode<span class="token operator">|</span>Running<span class="token operator">|</span>      <span class="token number">127.0</span>.0.1<span class="token operator">|</span>       <span class="token number">10810</span><span class="token operator">|</span>UNKNOWN<span class="token operator">|</span>190e303-dev<span class="token operator">|</span></span>
<span class="line">+------+----------+-------+---------------+------------+-------+-----------+</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="stop-ainode" tabindex="-1"><a class="header-anchor" href="#stop-ainode"><span>Stop AINode</span></a></h3><p>If you need to stop a running AINode node, execute the corresponding shutdown script.</p><h4 id="stop-command" tabindex="-1"><a class="header-anchor" href="#stop-command"><span>Stop command</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token comment"># Linux / MacOS </span></span>
<span class="line">  <span class="token function">bash</span> sbin/stop-ainode.sh  </span>
<span class="line"></span>
<span class="line">  <span class="token comment">#Windows</span></span>
<span class="line">  sbin<span class="token punctuation">\\</span>stop-ainode.bat </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="detailed-syntax-2" tabindex="-1"><a class="header-anchor" href="#detailed-syntax-2"><span>Detailed Syntax</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token comment"># Linux / MacOS </span></span>
<span class="line">  <span class="token function">bash</span> sbin/stop-ainode.sh  -t<span class="token operator">&lt;</span>AINode-id<span class="token operator">&gt;</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">#Windows</span></span>
<span class="line">  sbin<span class="token punctuation">\\</span>stop-ainode.bat  -t<span class="token operator">&lt;</span>AINode-id<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="parameter-introduction-2" tabindex="-1"><a class="header-anchor" href="#parameter-introduction-2"><span>Parameter introduction:</span></a></h5><table><thead><tr><th><strong>Name</strong></th><th><strong>Label</strong></th><th><strong>Describe</strong></th><th><strong>Is it mandatory</strong></th><th><strong>Type</strong></th><th><strong>Default value</strong></th><th><strong>Input method</strong></th></tr></thead><tbody><tr><td>ain_remove_target</td><td>-t</td><td>When closing AINode, you can specify the Node ID, address, and port number of the target AINode to be removed, in the format of <code>&lt;AINode id&gt;</code></td><td>no</td><td>String</td><td>nothing</td><td>Input when calling</td></tr></tbody></table><h4 id="example-2" tabindex="-1"><a class="header-anchor" href="#example-2"><span>Example</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token comment"># Linux / MacOS </span></span>
<span class="line">  <span class="token function">bash</span> sbin/stop-ainode.sh</span>
<span class="line"></span>
<span class="line">  <span class="token comment"># Windows</span></span>
<span class="line">  sbin<span class="token punctuation">\\</span>stop-ainode.bat</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>After stopping AINode, you can still see AINode nodes in the cluster, whose running status is UNKNOWN (as shown below), and the AINode function cannot be used at this time.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">IoTDB<span class="token operator">&gt;</span> show cluster</span>
<span class="line">+------+----------+-------+---------------+------------+-------+-----------+</span>
<span class="line"><span class="token operator">|</span>NodeID<span class="token operator">|</span>  NodeType<span class="token operator">|</span> Status<span class="token operator">|</span>InternalAddress<span class="token operator">|</span>InternalPort<span class="token operator">|</span>Version<span class="token operator">|</span>  BuildInfo<span class="token operator">|</span></span>
<span class="line">+------+----------+-------+---------------+------------+-------+-----------+</span>
<span class="line"><span class="token operator">|</span>     <span class="token number">0</span><span class="token operator">|</span>ConfigNode<span class="token operator">|</span>Running<span class="token operator">|</span>      <span class="token number">127.0</span>.0.1<span class="token operator">|</span>       <span class="token number">10710</span><span class="token operator">|</span>UNKNOWN<span class="token operator">|</span>190e303-dev<span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>     <span class="token number">1</span><span class="token operator">|</span>  DataNode<span class="token operator">|</span>Running<span class="token operator">|</span>      <span class="token number">127.0</span>.0.1<span class="token operator">|</span>       <span class="token number">10730</span><span class="token operator">|</span>UNKNOWN<span class="token operator">|</span>190e303-dev<span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>     <span class="token number">2</span><span class="token operator">|</span>    AINode<span class="token operator">|</span>UNKNOWN<span class="token operator">|</span>      <span class="token number">127.0</span>.0.1<span class="token operator">|</span>       <span class="token number">10790</span><span class="token operator">|</span>UNKNOWN<span class="token operator">|</span>190e303-dev<span class="token operator">|</span></span>
<span class="line">+------+----------+-------+---------------+------------+-------+-----------+</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you need to restart the node, you need to execute the startup script again.</p><h3 id="remove-ainode" tabindex="-1"><a class="header-anchor" href="#remove-ainode"><span>Remove AINode</span></a></h3><p>When it is necessary to remove an AINode node from the cluster, a removal script can be executed. The difference between removing and stopping scripts is that stopping retains the AINode node in the cluster but stops the AINode service, while removing removes the AINode node from the cluster.</p><h4 id="remove-command" tabindex="-1"><a class="header-anchor" href="#remove-command"><span>Remove command</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token comment"># Linux / MacOS </span></span>
<span class="line">  <span class="token function">bash</span> sbin/remove-ainode.sh  </span>
<span class="line"></span>
<span class="line">  <span class="token comment"># Windows</span></span>
<span class="line">  sbin<span class="token punctuation">\\</span>remove-ainode.bat  </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="detailed-syntax-3" tabindex="-1"><a class="header-anchor" href="#detailed-syntax-3"><span>Detailed Syntax</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  <span class="token comment"># Linux / MacOS </span></span>
<span class="line">  <span class="token function">bash</span> sbin/remove-ainode.sh  -i<span class="token operator">&lt;</span>bin_path<span class="token operator">&gt;</span>  -t<span class="token operator">&lt;</span>AINode-id<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>ip<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>rpc-port<span class="token operator">&gt;</span>  <span class="token parameter variable">-r</span>  <span class="token parameter variable">-n</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment"># Windows</span></span>
<span class="line">  sbin<span class="token punctuation">\\</span>remove-ainode.bat  -i<span class="token operator">&lt;</span>bin_path<span class="token operator">&gt;</span>  -t<span class="token operator">&lt;</span>AINode-id<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>ip<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>rpc-port<span class="token operator">&gt;</span>  <span class="token parameter variable">-r</span>  <span class="token parameter variable">-n</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="parameter-introduction-3" tabindex="-1"><a class="header-anchor" href="#parameter-introduction-3"><span>Parameter introduction:</span></a></h5><table><thead><tr><th><strong>Name</strong></th><th><strong>Label</strong></th><th><strong>Describe</strong></th><th><strong>Is it mandatory</strong></th><th><strong>Type</strong></th><th><strong>Default value</strong></th><th><strong>Input method</strong></th></tr></thead><tbody><tr><td>ain_interpreter_dir</td><td>-i</td><td>The interpreter path of the virtual environment where AINode is installed requires the use of an absolute path</td><td>no</td><td>String</td><td>Default reading of environment variables</td><td>Input+persistent modification during invocation</td></tr><tr><td>ain_remove_target</td><td>-t</td><td>When closing AINode, you can specify the Node ID, address, and port number of the target AINode to be removed, in the format of <code>&lt;AINode id&gt;</code></td><td>no</td><td>String</td><td>nothing</td><td>Input when calling</td></tr><tr><td>ain_force_reinstall</td><td>-r</td><td>Does this script check the version when checking the installation status of AINode. If it does, it will force the installation of the whl package in lib if the version is incorrect</td><td>no</td><td>Bool</td><td>false</td><td>Input when calling</td></tr><tr><td>ain_no_dependencies</td><td>-n</td><td>Specify whether to install dependencies when installing AINode, and if so, only install the AINode main program without installing dependencies</td><td>no</td><td>Bool</td><td>false</td><td>Input when calling</td></tr></tbody></table><p>If you don&#39;t want to specify the corresponding parameters every time you start, you can also persistently modify the parameters in the <code>ainode-env.sh</code> and <code>ainode-env.bat</code> scripts in the <code>conf</code> folder (currently supporting persistent modification of the ain_interpreter-dir parameter).</p><p><code>ainode-env.sh</code> :</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"> <span class="token comment"># The defaulte venv environment is used if ain_interpreter_dir is not set. Please use absolute path without quotation mark</span></span>
<span class="line"> <span class="token comment"># ain_interpreter_dir=</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>ainode-env.bat</code> :</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">  @REM The defaulte venv environment is used <span class="token keyword">if</span> ain_interpreter_dir is not set. Please use absolute path without quotation mark</span>
<span class="line">  @REM <span class="token builtin class-name">set</span> <span class="token assign-left variable">ain_interpreter_dir</span><span class="token operator">=</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>After writing the parameter value, uncomment the corresponding line and save it to take effect on the next script execution.</p><h4 id="example-3" tabindex="-1"><a class="header-anchor" href="#example-3"><span>Example</span></a></h4><h5 id="directly-remove" tabindex="-1"><a class="header-anchor" href="#directly-remove"><span>Directly remove:</span></a></h5><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># Linux / MacOS </span></span>
<span class="line"><span class="token function">bash</span> sbin/remove-ainode.sh</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Windows</span></span>
<span class="line">sbin<span class="token punctuation">\\</span>remove-ainode.bat</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>After removing the node, relevant information about the node cannot be queried.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">IoTDB<span class="token operator">&gt;</span> show cluster</span>
<span class="line">+------+----------+-------+---------------+------------+-------+-----------+</span>
<span class="line"><span class="token operator">|</span>NodeID<span class="token operator">|</span>  NodeType<span class="token operator">|</span> Status<span class="token operator">|</span>InternalAddress<span class="token operator">|</span>InternalPort<span class="token operator">|</span>Version<span class="token operator">|</span>  BuildInfo<span class="token operator">|</span></span>
<span class="line">+------+----------+-------+---------------+------------+-------+-----------+</span>
<span class="line"><span class="token operator">|</span>     <span class="token number">0</span><span class="token operator">|</span>ConfigNode<span class="token operator">|</span>Running<span class="token operator">|</span>      <span class="token number">127.0</span>.0.1<span class="token operator">|</span>       <span class="token number">10710</span><span class="token operator">|</span>UNKNOWN<span class="token operator">|</span>190e303-dev<span class="token operator">|</span></span>
<span class="line"><span class="token operator">|</span>     <span class="token number">1</span><span class="token operator">|</span>  DataNode<span class="token operator">|</span>Running<span class="token operator">|</span>      <span class="token number">127.0</span>.0.1<span class="token operator">|</span>       <span class="token number">10730</span><span class="token operator">|</span>UNKNOWN<span class="token operator">|</span>190e303-dev<span class="token operator">|</span></span>
<span class="line">+------+----------+-------+---------------+------------+-------+-----------+</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="specify-removal" tabindex="-1"><a class="header-anchor" href="#specify-removal"><span>Specify removal:</span></a></h5><p>If the user loses files in the data folder, AINode may not be able to actively remove them locally. The user needs to specify the node number, address, and port number for removal. In this case, we support users to input parameters according to the following methods for deletion.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># Linux / MacOS </span></span>
<span class="line"><span class="token function">bash</span> sbin/remove-ainode.sh <span class="token parameter variable">-t</span> <span class="token operator">&lt;</span>AINode-id<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>ip<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>rpc-port<span class="token operator">&gt;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Windows</span></span>
<span class="line">sbin<span class="token punctuation">\\</span>remove-ainode.bat <span class="token parameter variable">-t</span> <span class="token operator">&lt;</span>AINode-id<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>ip<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>rpc-port<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="common-problem" tabindex="-1"><a class="header-anchor" href="#common-problem"><span>common problem</span></a></h2><h3 id="an-error-occurs-when-starting-ainode-stating-that-the-venv-module-cannot-be-found" tabindex="-1"><a class="header-anchor" href="#an-error-occurs-when-starting-ainode-stating-that-the-venv-module-cannot-be-found"><span>An error occurs when starting AINode stating that the venv module cannot be found</span></a></h3><p>When starting AINode using the default method, a Python virtual environment will be created in the installation package directory and dependencies will be installed, so it is required to install the venv module. Generally speaking, Python 3.8 and above versions come with built-in VenV, but for some systems with built-in Python environments, this requirement may not be met. There are two solutions when this error occurs (choose one or the other):</p><p>To install the Venv module locally, taking Ubuntu as an example, you can run the following command to install the built-in Venv module in Python. Or install a Python version with built-in Venv from the Python official website.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">apt-get</span> <span class="token function">install</span> python3.8-venv </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Install version 3.8.0 of venv into AINode in the AINode path.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">..</span>/Python-3.8.0/python <span class="token parameter variable">-m</span> venv venv<span class="token punctuation">(</span>Folder Name）</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>When running the startup script, use <code>-i</code> to specify an existing Python interpreter path as the running environment for AINode, eliminating the need to create a new virtual environment.</p><h3 id="the-ssl-module-in-python-is-not-properly-installed-and-configured-to-handle-https-resources" tabindex="-1"><a class="header-anchor" href="#the-ssl-module-in-python-is-not-properly-installed-and-configured-to-handle-https-resources"><span>The SSL module in Python is not properly installed and configured to handle HTTPS resources</span></a></h3><p>WARNING: pip is configured with locations that require TLS/SSL, however the ssl module in Python is not available.<br> You can install OpenSSLS and then rebuild Python to solve this problem</p><blockquote><p>Currently Python versions 3.6 to 3.9 are compatible with OpenSSL 1.0.2, 1.1.0, and 1.1.1.</p></blockquote><p>Python requires OpenSSL to be installed on our system, the specific installation method can be found in <a href="https://stackoverflow.com/questions/56552390/how-to-fix-ssl-module-in-python-is-not-available-in-centos" target="_blank" rel="noopener noreferrer">link</a></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev <span class="token function">wget</span> <span class="token function">curl</span> llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev uuid-dev lzma-dev liblzma-dev</span>
<span class="line"><span class="token function">sudo</span> <span class="token parameter variable">-E</span> ./configure --with-ssl</span>
<span class="line"><span class="token function">make</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pip-version-is-lower" tabindex="-1"><a class="header-anchor" href="#pip-version-is-lower"><span>Pip version is lower</span></a></h3><p>A compilation issue similar to &quot;error: Microsoft Visual C++14.0 or greater is required...&quot; appears on Windows</p><p>The corresponding error occurs during installation and compilation, usually due to insufficient C++version or Setup tools version. You can check it in</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">./python <span class="token parameter variable">-m</span> pip <span class="token function">install</span> <span class="token parameter variable">--upgrade</span> pip</span>
<span class="line">./python <span class="token parameter variable">-m</span> pip <span class="token function">install</span> <span class="token parameter variable">--upgrade</span> setuptools</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="install-and-compile-python" tabindex="-1"><a class="header-anchor" href="#install-and-compile-python"><span>Install and compile Python</span></a></h3><p>Use the following instructions to download the installation package from the official website and extract it:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">.wget https://www.python.org/ftp/python/3.8.0/Python-3.8.0.tar.xz</span>
<span class="line"><span class="token function">tar</span> Jxf Python-3.8.0.tar.xz </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Compile and install the corresponding Python package:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">cd</span> Python-3.8.0</span>
<span class="line">./configure <span class="token assign-left variable">prefix</span><span class="token operator">=</span>/usr/local/python3</span>
<span class="line"><span class="token function">make</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span></span>
<span class="line">python3 <span class="token parameter variable">--version</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,116)]))}const p=e(i,[["render",o],["__file","AINode_Deployment_timecho.html.vue"]]),d=JSON.parse('{"path":"/UserGuide/latest/Deployment-and-Maintenance/AINode_Deployment_timecho.html","title":"AINode Deployment","lang":"en-US","frontmatter":{"description":"AINode Deployment AINode Introduction Capability Introduction AINode is the third type of endogenous node provided by IoTDB after the Configurable Node and DataNode. This node e...","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://iotdb.apache.org/zh/UserGuide/latest/Deployment-and-Maintenance/AINode_Deployment_timecho.html"}],["meta",{"property":"og:url","content":"https://iotdb.apache.org/UserGuide/latest/Deployment-and-Maintenance/AINode_Deployment_timecho.html"}],["meta",{"property":"og:site_name","content":"IoTDB Website"}],["meta",{"property":"og:title","content":"AINode Deployment"}],["meta",{"property":"og:description","content":"AINode Deployment AINode Introduction Capability Introduction AINode is the third type of endogenous node provided by IoTDB after the Configurable Node and DataNode. This node e..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-11T11:01:16.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-11T11:01:16.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"AINode Deployment\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-11-11T11:01:16.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"AINode Introduction","slug":"ainode-introduction","link":"#ainode-introduction","children":[{"level":3,"title":"Capability Introduction","slug":"capability-introduction","link":"#capability-introduction","children":[]},{"level":3,"title":"Delivery Method","slug":"delivery-method","link":"#delivery-method","children":[]},{"level":3,"title":"Deployment mode","slug":"deployment-mode","link":"#deployment-mode","children":[]}]},{"level":2,"title":"Installation preparation","slug":"installation-preparation","link":"#installation-preparation","children":[{"level":3,"title":"Get installation package","slug":"get-installation-package","link":"#get-installation-package","children":[]},{"level":3,"title":"Environment preparation","slug":"environment-preparation","link":"#environment-preparation","children":[]}]},{"level":2,"title":"Installation steps","slug":"installation-steps","link":"#installation-steps","children":[{"level":3,"title":"Install AINode","slug":"install-ainode","link":"#install-ainode","children":[]},{"level":3,"title":"Configuration item modification","slug":"configuration-item-modification","link":"#configuration-item-modification","children":[]},{"level":3,"title":"Start AINode","slug":"start-ainode","link":"#start-ainode","children":[]},{"level":3,"title":"Detecting the status of AINode nodes","slug":"detecting-the-status-of-ainode-nodes","link":"#detecting-the-status-of-ainode-nodes","children":[]},{"level":3,"title":"Stop AINode","slug":"stop-ainode","link":"#stop-ainode","children":[]},{"level":3,"title":"Remove AINode","slug":"remove-ainode","link":"#remove-ainode","children":[]}]},{"level":2,"title":"common problem","slug":"common-problem","link":"#common-problem","children":[{"level":3,"title":"An error occurs when starting AINode stating that the venv module cannot be found","slug":"an-error-occurs-when-starting-ainode-stating-that-the-venv-module-cannot-be-found","link":"#an-error-occurs-when-starting-ainode-stating-that-the-venv-module-cannot-be-found","children":[]},{"level":3,"title":"The SSL module in Python is not properly installed and configured to handle HTTPS resources","slug":"the-ssl-module-in-python-is-not-properly-installed-and-configured-to-handle-https-resources","link":"#the-ssl-module-in-python-is-not-properly-installed-and-configured-to-handle-https-resources","children":[]},{"level":3,"title":"Pip version is lower","slug":"pip-version-is-lower","link":"#pip-version-is-lower","children":[]},{"level":3,"title":"Install and compile Python","slug":"install-and-compile-python","link":"#install-and-compile-python","children":[]}]}],"git":{"createdTime":1722498479000,"updatedTime":1731322876000,"contributors":[{"name":"W1y1r","email":"150988475+W1y1r@users.noreply.github.com","commits":12},{"name":"majialin","email":"107627937+mal117@users.noreply.github.com","commits":1}]},"readingTime":{"minutes":10.9,"words":3269},"filePathRelative":"UserGuide/latest/Deployment-and-Maintenance/AINode_Deployment_timecho.md","localizedDate":"August 1, 2024","autoDesc":true}');export{p as comp,d as data};
